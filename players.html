<!DOCTYPE html>
<html>
  <head>
    <title>add players(POST)</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css
    " rel="stylesheet"  />
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js
    "></script>
<style>
  #success{
    display: none;
    color:green;
    background-color: #E1F0DA;
  }
</style>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand-lg bg-light">
        <div class="container">
      <a href="index.html" class="navbar-brand">ICC Player Management</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
          <ul class="navbar-nav">
        <li><a class="nav-link" href="index.html">Home</a></li>
        <li><a class="nav-link" href="player-list.html"> Players List</a></li>
        <li><a class="nav-link" href="players.html">Add Players</a></li>
    </ul>
          </div>
        </div>
    </nav>
    </header>
    
<main class="container mt-4">
  <h1>Add Players</h1>
  <div id="success" class="form-control m-2">Saved successfully</div>
  
  <form id="playerForm">
<div class="mb-3">
  <label for="name">Player Full Name:</label>
  <input id="name" class="form-control"/>
</div>
    <div class="mb-3">
      <label for="birthDate">Date of Birth:</label>
      <input id="birthDate" type="date" value="dd/mm/yyyy" class="form-control"/>
    </div>
    <div class="mb-3">
      <label for="nationality">Nationality:</label>
      <input id="nationality" class="form-control"/>
    </div>
    <div class="mb-3">
      <label for="birthPlace">Place of Birth:</label>
      <input id="birthPlace" class="form-control"/>
    </div>
    <div class="mb-3">
      <label for="address">Contact Address:</label>
<textarea id="address" class="form-control" rows="5"></textarea>
    </div>
    <div class="mb-3">
      <label for="phone">Phone Number:</label>
      <input id="phone" type="number" class="form-control"/>
    </div>
    <div class="mb-3">
      <label for="email">Email Address:</label>
      <input id="email" type="email" class="form-control"/>
    </div>
<div class="mb-3">
<label for="role">Playing Role:</label>
  <select id="role" class="form-control">
    <option value="Batsman">Batsman</option>
    <option value="Bowler">Bowler</option>
    <option value="All-Rounder">All-Rounder</option>
  </select>
</div>
    <div class="mb-3">
    <label for="batting">Batting Hand:</label>
      <select id="batting" class="form-control">
        <option value="Right Handed">Right Handed</option>
        <option value="Left Handed">Left Handed</option>
        <option value="Both">Both</option>
      </select>
    </div>

    <div class="mb-3">
    <label for="bowling">Bowling Style:</label>
      <select id="bowling" class="form-control">
        <option value="Right-Arm Fast">Right-Arm Fast</option>
        <option value="Left-Arm Fast">Left-Arm Fast</option>
        <option value="Right-Arm Medium">Right-Arm Medium</option>
        <option value="Left-Arm Medium">Left-Arm Medium</option>
        <option value="Right-Arm Spin">Right-Arm Spin(Off-Spin)</option>
        <option value="Left-Arm Spin(Off-Spin)">Left-Arm Spin(Off-Spin)</option>
      </select>
    </div>
<button class="btn btn-primary mt-4">Add Players</button>
  </form>

</main>

    <script>
      const playerForm = document.querySelector("#playerForm")
      const successContainer = document.querySelector("#success")
      const nameInput = document.querySelector("#name")
      const birthDateInput = document.querySelector("#birthDate")
      const nationalityInput = document.querySelector("#nationality")
      const birthPlaceInput = document.querySelector("#birthPlace")
      const addressInput = document.querySelector("#address")
      const phoneInput = document.querySelector("#phone")
      const emailInput = document.querySelector("#email")
      const roleInput = document.querySelector("#role")
      const battingInput = document.querySelector("#batting")
      const bowlingInput = document.querySelector("#bowling")
      const apiUrl = 'https://players-backend-student-neog-ca.replit.app/players'

      playerForm.addEventListener("submit",(event)=>{
        event.preventDefault()

        const playerData={
          fullName:nameInput.value,
          dateOfBirth:birthDateInput.value,
          nationality:nationalityInput.value,
          placeOfBirth:birthPlaceInput.value,
          contactAddress:addressInput.value,
          phoneNumber:phoneInput.value,
          emailAddress:emailInput.value,
          playingRole:roleInput.value,
          battingHand:battingInput.value,
          bowlingStyle:bowlingInput.value,
        }

        fetch(apiUrl,{
          method:"POST",
          body:JSON.stringify(playerData),
          headers:{
            'Content-Type':"application/json"
          }
        }).then((response)=> response.json()).then((data)=>{
          if(data){
            successContainer.style.display="block"

            setTimeout(()=>{
              successContainer.style.display="none"
            },2000)
          }
        })
      })
    </script>
  </body>
</html>